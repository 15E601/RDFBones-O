<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Robotakademie</title>
        <script src="svg.min.js" type="text/javascript" ></script>
        <script src="jquery-1.11.1.min.js" type="text/javascript" ></script>
        <style>
            #text{
                border: 1px solid;
                //width: 50%;
                //height: 50%;
                margin: 0 auto;
                float: left;
            }

            #drawing{

                display: table;
                margin: 0 auto;
            }
            
            @font-face{
                font-family: myFirstFont;
                src: url(MarckScript-Regular.ttf);
            } 
           
            #title{
                
                display: table;
                margin: 70px auto 0 auto;
                border: 4px solid white;
                font-size: 30px;
                color: white;
                padding: 20px;
                letter-spacing: 0.5cm;
                //font-family: myFirstFont;
            }
            .middle{
                display: table;
                margin: 0 auto;
            }
            
            #enter{
                font-size: 20px;
                margin-top: 20px;
                color: white;
                letter-spacing: 0.14cm;
            }
            
            
        </style>
    </head>
    
    <body bgcolor="black">
        <div id='toMove' style="width: 100%;">
            <div class='middle' id='title'>
                ROBOTAKADEMIE
            </div>
            <div class='middle' id="drawing"></div>
            <div class='middle' id='enter' onclick> Enter</div>
        </div> 
        

    </body>
    
    <script type="text/javascript">
    
        var left=600;
        var width;
        var height;
        var draw = SVG('drawing').size(600,820);
        draw.rect(800, 1500).attr({ fill: 'black' });
    
        var a1 = new Object();
        var b1 = new Object();
        var a2 = new Object();
        var b2 = new Object();

        var line;

       var chainDist, wheelDistPix;
       var wheel = { radius: 25, outRad: 20 , inRad: 5, holeNum:5}; 
       var position ={ x: 430, y: 140, wheelDist:10};
       var chain = { ratio: 0.3,  wheelNumber:6, thicknessLow: 2, thicknessHight: 4};
       var hand ={l1: 70, d1: 12, alfa1: 0.6, l2: 70, d2: 10, alfa2: 2, baseW:100, baseH:10}
       
      // drawRobot(wheel, position, chain, hand, 'white');
    
       var chainDist, wheelDistPix;
       var wheel = { radius: 25, outRad: 20 , inRad: 5, holeNum:5}; 
       var position ={ x: 30, y: 140, wheelDist:10};
       var chain = { ratio: 0.3,  wheelNumber:6, thicknessLow: 2, thicknessHight: 4};
       var hand ={l1: 70, d1: 12, alfa1: 2.44, l2: 70, d2: 8, alfa2: -2, baseW:100, baseH:10}
       
    
        //drawRobot(wheel, position, chain, hand, 'white');
     
        
        function drawCar(x,y, W, L){
               
            drawHouse(x,y,W,L);
            drawWheels(x,y,W,L);
            width=30;
            db=10;
            drawChain(x-L/12-width, y, width, L/db, db);
            drawChain(x+W+L/12, y, width, L/db, db);
        }
        
        
        
        function drawChain(x,y, width, dist, db){
          
           for(var i=-1; i<db+2; i++){
               
                draw.line(x, y+i*dist, x+width, y+i*dist).stroke({width:1}).attr({stroke: 'white'});
            }          
        };
    
    
        function drawHouse(x,y,W,L){
            
            draw.rect(W,L).move(x,y).fill('none').stroke({width:1}).attr({stroke: 'white'});
        }
        
        function drawWheels(x,y,W,L){
            
            var val=L/12;
            draw.rect(val,2*val).move(x-val,y+2*val).fill('none').stroke({width:1}).attr({stroke: 'white'});
            draw.rect(val,2*val).move(x-val,y+8*val).fill('none').stroke({width:1}).attr({stroke: 'white'});
            draw.rect(val,2*val).move(x+W,y+2*val).fill('none').stroke({width:1}).attr({stroke: 'white'});
            draw.rect(val,2*val).move(x+W,y+8*val).fill('none').stroke({width:1}).attr({stroke: 'white'});
        }
    
   
        drawCar(100,50, 150, 200);
    
 //           drawChain(100,100, 5, 20, 100);
 
        
    
       function drawRobot(wheel, position, chain, hand, color){
           

            chainDist=Math.PI*wheel.radius/chain.wheelNumber;
            wheelDistPix=chainDist*position.wheelDist;
            drawWheel(position.x, position.y, wheel.radius, wheel.inRad, wheel.outRad, wheel.holeNum, color);
            drawWheel(position.x+wheelDistPix, position.y, wheel.radius, wheel.inRad, wheel.outRad, wheel.holeNum, color);
       
            drawChain(-1, position.x+wheelDistPix, position.y, wheel.radius+chain.thicknessLow, wheel.radius+chain.thicknessHight, chain.wheelNumber, chain.ratio, color);
            drawChain(1, position.x, position.y, wheel.radius+chain.thicknessLow, wheel.radius+chain.thicknessHight, chain.wheelNumber, chain.ratio, color);
               
            drawHorizontalChain1(position.x, position.y-(wheel.radius+chain.thicknessLow), position.wheelDist ,chain.ratio*chainDist,(1-chain.ratio)*chainDist, chain.thicknessHight-chain.thicknessLow, color);
            drawHorizontalChain2(position.x, position.y+(wheel.radius+chain.thicknessLow), position.wheelDist ,chain.ratio*chainDist,(1-chain.ratio)*chainDist, chain.thicknessHight-chain.thicknessLow, color);
            
            draw.line(position.x, position.y-wheel.radius, position.x+wheelDistPix, position.y-wheel.radius).stroke({ width: 1}).attr({stroke: color});
            draw.line(position.x, position.y+wheel.radius, position.x+wheelDistPix, position.y+wheel.radius).stroke({ width: 1}).attr({stroke: color});
        
            //Extending the hand array
            hand.x=position.x+wheelDistPix/2-hand.baseW/2;
            hand.y=position.y-wheel.radius-hand.baseH;
            hand.middle=hand.x+hand.baseW/2;
            hand.X1=hand.middle+hand.l1*Math.cos(hand.alfa1);
            hand.Y1=hand.y-hand.l1*Math.sin(hand.alfa1);
            hand.X2=hand.X1+hand.l2*Math.cos(hand.alfa1+hand.alfa2);
            hand.Y2=hand.Y1-hand.l2*Math.sin(hand.alfa1+hand.alfa2);
            hand.W =hand.baseH-chain.thicknessLow;
            
            drawArm(hand, color);    
            drawHand(hand, color);
        }
        
        function drawArm(hand, color){
            
            var to= new Object();
            
            to.X=hand.X2+0.707*30;
            to.Y=hand.Y2-0.707*30;
            draw.line(hand.X2, hand.Y2, to.X, to.Y).stroke({width:1}).attr({stroke: color});
            draw.line(to.X, to.Y, to.X, to.Y-10).stroke({width:1}).attr({stroke: color});
            to.X=hand.X2-0.707*30;
            to.Y=hand.Y2-0.707*30;
            draw.line(hand.X2, hand.Y2, to.X, to.Y).stroke({width:1}).attr({stroke: color});
            draw.line(to.X, to.Y, to.X, to.Y-10).stroke({width:1}).attr({stroke: color});    
        }
        
        
        function drawHand(hand, color){
            
            //line=draw.rect(hand.baseW,hand.baseH).fill('none').stroke({width:1}).attr({stroke: color});
            draw.line(hand.x, hand.y, hand.x+ hand.baseW, hand.y).stroke({width:1}).attr({stroke: color});
            draw.line(hand.x, hand.y, hand.x, hand.y+hand.W).stroke({width:1}).attr({stroke: color});
            draw.line(hand.x + hand.baseW, hand.y, hand.x+ hand.baseW, hand.y+hand.W).stroke({width:1}).attr({stroke: color});
            
            var d1=hand.d1/Math.sin(hand.alfa1);
            
            line=draw.line(hand.middle-d1/2, hand.y, hand.X1-d1/2, hand.Y1).stroke({ width: 1}).attr({stroke: color});
            line=draw.line(hand.middle+d1/2, hand.y,  hand.X1+d1/2, hand.Y1).stroke({ width: 1}).attr({stroke: color});
           
            var d2=hand.d2/Math.abs(Math.sin(hand.alfa1 + hand.alfa2));
            
            line=draw.line(hand.X1-d2/2, hand.Y1, hand.X2-d2/2, hand.Y2).stroke({ width: 1}).attr({stroke: color});
            line=draw.line(hand.X1+d2/2, hand.Y1, hand.X2+d2/2, hand.Y2).stroke({ width: 1}).attr({stroke: color});
            
            var radius=d2*0.6;
            draw.circle(2*radius).move(hand.X2-radius, hand.Y2-radius).fill('black').stroke({width:1}).attr({stroke: color});
            var radius=d2*0.3;
            draw.circle(2*radius).move(hand.X2-radius, hand.Y2-radius).fill('black').stroke({width:1}).attr({stroke: color});
           
            var radius=d1*0.6;
            draw.circle(2*radius).move(hand.X1-radius, hand.Y1-radius).fill('black').stroke({width:1}).attr({stroke: color});
            var radius=d1*0.3;
            draw.circle(2*radius).move(hand.X1-radius, hand.Y1-radius).fill('black').stroke({width:1}).attr({stroke: color});
            
        }
       
        function drawHorizontalChain1(x, y, n, high, low, height, color){
            
            var string='';
            var sum=high+low;
            for(var i=0; i<n ; i++){
               
                string+=' '+(i*sum)+','+height;
                string+=' '+(i*sum)+',0';
                string+=' '+(i*sum+high)+',0';
                string+=' '+(i*sum+high)+','+height;
                string+=' '+(i*sum+sum)+','+height;
            }
            
            var polyline = draw.polyline(string).fill('none').stroke({ width: 1}).attr({stroke: color});
            
            polyline.move(x,y-height);
        }
        
        
        
        function drawHorizontalChain2(x, y, n, high, low, height, color){
            
            var string='';
            var sum=high+low;
            for(var i=0; i<n ; i++){
               
                string+=' '+(i*sum)+',0';//+height;
                string+=' '+(i*sum+low)+',0';
                string+=' '+(i*sum+low)+','+height;
                string+=' '+(i*sum+sum)+','+height;
                string+=' '+(i*sum+sum)+',0';
            }
            
            var polyline = draw.polyline(string).fill('none').stroke({ width: 1}).attr({stroke: color});
            
            polyline.move(x,y);
        }
        
        function drawWheel(x, y, r, r1, r2, number, color){
          
          var a=Math.PI/(number);
          
          for(var i=0; i<number; i++){
              
            drawArc2(x, y, r1, r2, 2*i*a, a, color);
          }
          
          //Inner Circle 
          draw.circle(r1).move(x-(r1/2),y-(r1/2)).fill('none').stroke({ width: 1 }).attr({stroke: color});
          //Outer Circle
          draw.circle(2*r).move(x-r,y-r).fill('none').stroke({ width: 1 }).attr({stroke: color});

      }  
       
        function drawArc2( x, y, r1, r2, alfa1, alfa2, color){
            
 
        a1.x=x+r1*Math.cos(alfa1);
        a1.y=y-r1*Math.sin(alfa1); 
        b1.x=x+r1*Math.cos(alfa1+alfa2);
        b1.y=y-r1*Math.sin(alfa1+alfa2); 
     
        draw.path('M ' + a1.x + ' ' + a1.y + ' A ' +  r1 + ',' + r1 + ' 0 0 0 ' + b1.x + ',' + b1.y ).fill('none').stroke({ width: 1 }).attr({stroke: color});    
  
        a2.x=x+r2*Math.cos(alfa1);
        a2.y=y-r2*Math.sin(alfa1); 
        b2.x=x+r2*Math.cos(alfa1+alfa2);
        b2.y=y-r2*Math.sin(alfa1+alfa2); 
        
        draw.path('M ' + a2.x + ' ' + a2.y + ' A ' +  r2 + ',' + r2 + ' 0 0 0 ' + b2.x + ',' + b2.y ).fill('none').stroke({ width: 1 }).attr({stroke: color});
        
        
        draw.line( a1.x , a1.y, a2.x, a2.y).stroke({ width: 1 }).attr({stroke: color});
        draw.line( b1.x , b1.y, b2.x, b2.y).stroke({ width: 1 }).attr({stroke: color});
        
     }
     
        function drawArc3( x, y, r1, r2, alfa, alfa1, alfa2, color){
            
 
        a1.x=x+r1*Math.cos(alfa);
        a1.y=y-r1*Math.sin(alfa); 
        b1.x=x+r1*Math.cos(alfa+alfa1);
        b1.y=y-r1*Math.sin(alfa+alfa1); 
     
        draw.path('M ' + a1.x + ' ' + a1.y + ' A ' +  r1 + ',' + r1 + ' 0 0 0 ' + b1.x + ',' + b1.y ).fill('none').stroke({ width: 1 }).attr({stroke: color});    
  
        a2.x=x+r2*Math.cos(alfa+alfa1);
        a2.y=y-r2*Math.sin(alfa+alfa1); 
        b2.x=x+r2*Math.cos(alfa+alfa1+alfa2);
        b2.y=y-r2*Math.sin(alfa+alfa1+alfa2); 
        
        draw.path('M ' + a2.x + ' ' + a2.y + ' A ' +  r2 + ',' + r2 + ' 0 0 0 ' + b2.x + ',' + b2.y ).fill('none').stroke({ width: 1 }).attr({stroke: color});
        
       
        draw.line( b1.x , b1.y, a2.x, a2.y).stroke({ width: 1 }).attr({stroke: color});
        b1.x=x+r1*Math.cos(alfa+alfa1+alfa2);
        b1.y=y-r1*Math.sin(alfa+alfa1+alfa2);
        draw.line( b2.x , b2.y, b1.x, b1.y).stroke({ width: 1 }).attr({stroke: color});
       
     }
    
   
   
    
    
    
    
    
    
    function drawArc( x, y, r, alfa1, alfa2){
            
        a.x=x+r*Math.cos(alfa1);
        a.y=y-r*Math.sin(alfa1); 
        b.x=x+r*Math.cos(alfa1+alfa2);
        b.y=y-r*Math.sin(alfa1+alfa2); 
        
        draw.path('M ' + a.x + ' ' + a.y + ' A ' +  r + ',' + r + ' 0 0 0 ' + b.x + ',' + b.y ).fill('none').stroke({ width: 1 });  
     }
        
          
     
    
    function gradientLine(){
            
             var gradient = draw.gradient('linear', function(stop) {
            stop.at({ offset: 0, color: '#000' });
            stop.at({ offset: 1, color: '#fff' });
          });

            draw.rect(200, 4).move(0,210).fill({ color: gradient });
            draw.rect(200, 4).move(400, 210).fill({ color: gradient }).transform({rotation: 180});
            draw.rect(200, 4).move(200, 210).fill({ color: 'white' });     
        }
        
    
    
    /*
    function rotateVector90(param , x1, y1, x2, y2){
            
        X = x2 - x1;
        Y = y2 - y1;

        var A = new Object();
        if(param){
            A.x = x2 + 0.2*Y;   
            A.y = y2 - 0*2*X;         
        } else {
            A.x = x2 - 0*2*Y ;  
            A.y = y2 + 0*2*X ;        
        }
        return A;
    }
    
       */ 
    
    
        /*
        function drawPerp(x1, y1, x2, y2){
            
            
           
           var lineA2 = draw.line(x2, y2, x2+y2-y1, y2+x1-x2).stroke({ width: 1 }); 
  
        }
    
        drawPerp(100,100, 200, 200);
        */
       
       
        </script>
</html>
